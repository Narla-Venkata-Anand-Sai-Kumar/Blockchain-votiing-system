{% extends "base.html" %}

{% block content %}
	<br>
	<div style="width: 100%; display: flex; justify-content: space-between;">
		<div style="width: 65%; padding: 20px; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); border-radius: 8px; background-color: #f9f9f9;">
			<form action="/submit" id="textform" method="post">
				<h3 style="color: #333;">Vote for Your Party</h3>
				<table style="width: 100%;">
					<tr>
						<td style="padding-bottom: 10px;">
							<label for="party" style="font-weight: bold; color: #555;">Select Political Party</label>
						</td>
						<td style="padding-bottom: 10px;">
							<select name="party" id="party" required style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc;">
								<option value="">Select</option>
								{% for political_partie in political_parties %}
								<option value="{{ political_partie }}">{{ political_partie }}</option>
								{% endfor %}
							</select>
						</td>
					</tr>
					<tr>
						<td style="padding-bottom: 10px;">
							<label for="voter_id" style="font-weight: bold; color: #555;">Enter Voter ID <small style="color: #888;">(from sample IDs)</small></label>
						</td>
						<td style="padding-bottom: 10px;">
							<input type="text" name="voter_id" id="voter_id" placeholder="VOID001" required style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc;">
						</td>
					</tr>
					<tr>
						<td colspan="2" style="text-align: right;">
							<input type="submit" value="Vote" style="padding: 10px 20px; background-color: #28a745; color: #fff; border: none; border-radius: 4px; cursor: pointer; transition: background-color 0.3s ease;">
						</td>
					</tr>
				</table>
			</form>
		</div>
		<div style="width: 30%; padding: 20px; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); border-radius: 8px; background-color: #f9f9f9; overflow-y: auto;">
			<h3 style="color: #333;">Sample Voter IDs</h3>
			<table style="width: 100%; text-align: left;">
				<tr>
					<th style="color: #333; padding-bottom: 10px;">Voter ID</th>
				</tr>
				{% for voter_id in voter_ids %}
				<tr>
					<td style="padding: 8px 0; color: #555;">{{ voter_id }}</td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>

	<hr>

	<center style="margin: 20px 0;">
		<a href="{{ node_address }}/mine" target="_blank"><button style="padding: 10px 20px; background-color: #007bff; color: #fff; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">Request to Mine</button></a>
		<a href="/"><button style="padding: 10px 20px; background-color: #6c757d; color: #fff; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">Resync</button></a>
		<a href="{{ node_address }}/chain" target="_blank"><button style="padding: 10px 20px; background-color: #28a745; color: #fff; border: none; border-radius: 4px; cursor: pointer;">View Chain</button></a>
	</center>

	<hr>

	<div style="display: flex; justify-content: space-between; margin: 20px;">
		<div class="col-md-6">
			<h2 style="color: #333;">Result Detail</h2>
			<table>
				<tr>
					<th>Voter ID</th>
					<th>Political Party Name</th>
					<th>Voted Time</th>
				</tr>
				{% for post in posts %}
				<tr>
					<td>{{ post.voter_id }}</td>
					<td>{{ post.party }}</td>
					<td>{{ readable_time(post.timestamp) }}</td>
				</tr>
				{% endfor %}
			</table>
		</div>

		<div class="col-md-4" style="margin-left: 10px;">
			<h2 style="color: #333;">Result Summary</h2>
			<table>
				<tr>
					<th>Political Party Name</th>
					<th>Total Votes</th>
				</tr>
				{% for p in political_parties %}
				<tr>
					<td>{{ p }}</td>
					<td>{{ vote_gain.count(p) }}</td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>

	<style>
		table {
			font-family: Arial, sans-serif;
			border-collapse: collapse;
			width: 100%;
			margin-top: 20px;
		}

		th, td {
			border: 1px solid #dddddd;
			text-align: left;
			padding: 12px;
		}

		th {
			background-color: #007bff;
			color: white;
		}

		tr:nth-child(even) {
			background-color: #f2f2f2;
		}

		tr:hover {
			background-color: #f1f1f1;
			transition: background-color 0.3s ease;
		}

		.col-md-4, .col-md-6 {
			float: left;
			width: 48%;
		}
	</style>
{% endblock %}
